webpackJsonp([7],{BOQR:function(e,a){},tJzh:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Xxa5"),n=t.n(r),o=t("exGp"),s=t.n(o),i=t("1h8J"),c={data:function(){return{hasInfo:!1,radio:1,updated_at:"",form:{name:"",acount:"",bank:""},rules:{name:[{required:!0,message:"请输入账户名",trigger:"blur"}],acount:[{required:!0,message:"请输入银行账号",trigger:"blur"}],bank:[{required:!0,message:"请输入开户行",trigger:"blur"}]}}},mounted:function(){this.getInfo()},methods:{number:function(){this.form.acount=this.form.acount.replace(/[^\.\d]/g,""),this.form.acount=this.form.acount.replace(".","")},getInfo:function(){var e=this;return s()(n.a.mark(function a(){var t;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.E)();case 2:0==(t=a.sent).code?t.data?(e.hasInfo=!0,e.radio=t.data.bank_type,e.form.name=t.data.bank_account,e.form.acount=t.data.bank_card,e.form.bank=t.data.opening_bank,e.updated_at=t.data.updated_at,e.curId=t.data.id):(e.hasInfo=!1,e.radio=1,e.form.name="",e.form.acount="",e.form.bank="",e.updated_at="",e.curId=""):e.$message.error(t.message);case 4:case"end":return a.stop()}},a,e)}))()},doSave:function(){var e=this;return s()(n.a.mark(function a(){var t;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(/^[1-9]\d*$/.test(e.form.acount)){a.next=4;break}return e.$message.error("银行账号只能输入数字"),a.abrupt("return");case 4:if(t=void 0,e.curId){a.next=11;break}return a.next=8,Object(i.D)({bank_card:e.form.acount,bank_account:e.form.name,opening_bank:e.form.bank,bank_type:e.radio});case 8:t=a.sent,a.next=14;break;case 11:return a.next=13,Object(i.g)({id:e.curId,bank_card:e.form.acount,bank_account:e.form.name,opening_bank:e.form.bank,bank_type:e.radio});case 13:t=a.sent;case 14:0==t.code?e.getInfo():e.$message.error(t.message);case 15:case"end":return a.stop()}},a,e)}))()},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.doSave()})},doModify:function(){this.hasInfo=!1}}},l={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-row",[e._v("账户信息："),e.hasInfo?t("el-button",{attrs:{type:"primary"},on:{click:e.doModify}},[e._v("修改")]):e._e()],1),e._v(" "),t("div",{staticClass:"vFlex"},[t("el-row",{staticClass:"mt2"},[t("el-radio-group",{attrs:{disabled:e.hasInfo},model:{value:e.radio,callback:function(a){e.radio=a},expression:"radio"}},[t("el-radio",{attrs:{label:1}},[e._v("公司")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("个人")])],1)],1),e._v(" "),t("el-form",{ref:"form",staticClass:"mt2",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"账户名：",prop:"name"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{disabled:e.hasInfo,placeholder:"请输入账户名"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"银行账号：",prop:"acount"}},[t("el-input",{staticStyle:{width:"300px","text-align":"left"},attrs:{disabled:e.hasInfo,placeholder:"请输入银行账号"},nativeOn:{keyup:function(a){return e.number(a)}},model:{value:e.form.acount,callback:function(a){e.$set(e.form,"acount",a)},expression:"form.acount"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开户银行：",prop:"bank"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{disabled:e.hasInfo,placeholder:"请输入开户行"},model:{value:e.form.bank,callback:function(a){e.$set(e.form,"bank",a)},expression:"form.bank"}})],1),e._v(" "),t("el-form-item",{attrs:{label:""}},[t("span",{staticStyle:{color:"#606266"}},[e._v("请注意，开户银行要具体到支行")])]),e._v(" "),e.hasInfo?t("el-form-item",{attrs:{label:"最近修改时间："}},[t("span",{staticStyle:{color:"#606266"}},[e._v(e._s(e.updated_at))])]):e._e(),e._v(" "),e.hasInfo?e._e():t("el-form-item",[t("el-button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary"},on:{click:function(a){return e.submitForm("form")}}},[e._v("保存")])],1),e._v(" "),e.hasInfo?e._e():t("el-form-item",{attrs:{label:""}},[t("span",{staticStyle:{color:"#606266"}},[e._v("请确保账户信息完整无误后保存")])])],1)],1)],1)},staticRenderFns:[]};var u=t("VU/8")(c,l,!1,function(e){t("BOQR")},"data-v-8c05d008",null);a.default=u.exports}});
//# sourceMappingURL=7.678c29f067483635cc1d.js.map