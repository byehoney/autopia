webpackJsonp([3],{B1it:function(t,e,a){"use strict";var n=a("Xxa5"),o=a.n(n),r=a("exGp"),s=a.n(r),l=a("1h8J"),c={data:function(){return{popVisible:!1,infos:[],goodsName:"",curId:"",draft:""}},methods:{showDetail:function(t,e){this.popVisible=!0,this.getStock(t.id,e),this.goodsName=t.goods_name,this.curId=t.id,this.draft=e},getStock:function(t,e){var a=this;return s()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)({id:t,draft:e});case 2:0==(r=n.sent).code&&(a.infos=r.data);case 4:case"end":return n.stop()}},n,a)}))()},doSave:function(){var t=this;return s()(o.a.mark(function e(){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.infos.forEach(function(t,e){a.push({id:t.id,market_price:t.market_price})}),e.next=4,Object(l.n)({goods_id:t.curId,goods_sku_market_price:a,draft:t.draft});case 4:0==(n=e.sent).code?(t.$message({type:"success",message:"操作成功!"}),t.popVisible=!1,t.$parent.getData()):t.$message.error(n.message);case 6:case"end":return e.stop()}},e,t)}))()}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{center:"",title:"市场价",visible:t.popVisible,width:"50%"},on:{"update:visible":function(e){t.popVisible=e}}},[a("el-row",[t._v("商品名称："+t._s(t.goodsName))]),t._v(" "),t._l(t.infos,function(e,n){return a("el-row",{key:n,staticClass:"mt2 vertical"},[a("el-col",{attrs:{span:8}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(e.sku_name))]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{placeholder:"请输入内容",controls:!1,precision:0},model:{value:e.market_price,callback:function(a){t.$set(e,"market_price",a)},expression:"item.market_price"}}),t._v(" 元\n                    ")],1)],1)}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doSave}},[t._v("保存")])],1)],2)],1)},staticRenderFns:[]};var u=a("VU/8")(c,i,!1,function(t){a("MJoP")},"data-v-a7770168",null);e.a=u.exports},M06x:function(t,e){},MJoP:function(t,e){},SR9u:function(t,e){},cRBm:function(t,e){},pkC8:function(t,e,a){"use strict";var n=a("Xxa5"),o=a.n(n),r=a("exGp"),s=a.n(r),l=a("1h8J"),c={data:function(){return{popVisible:!1,infos:[],goodsName:""}},methods:{showDetail:function(t,e){this.popVisible=!0,this.getPrice(t.id,e),this.goodsName=t.goods_name},getPrice:function(t,e){var a=this;return s()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)({id:t,draft:e});case 2:0==(r=n.sent).code&&(a.infos=r.data);case 4:case"end":return n.stop()}},n,a)}))()}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{center:"",title:"结算价",visible:t.popVisible,width:"50%"},on:{"update:visible":function(e){t.popVisible=e}}},[a("el-row",[t._v("商品名称："+t._s(t.goodsName))]),t._v(" "),t._l(t.infos,function(e,n){return a("el-row",{key:n,staticClass:"mt2"},[a("el-col",{attrs:{span:8}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(e.sku_name))]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(e.settlement_price)+" 元")])],1)}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.popVisible=!1}}},[t._v("确 定")])],1)],2)],1)},staticRenderFns:[]};var u=a("VU/8")(c,i,!1,function(t){a("cRBm")},"data-v-b200051e",null);e.a=u.exports},qJHx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),o=a.n(n),r=a("exGp"),s=a.n(r),l=a("1h8J"),c=a("pkC8"),i=a("ux3j"),u=a("B1it"),p={data:function(){return{actTab:0,curPage:1,page_size:10,tableData:[],type:"0",keyWord:"",total:0,dialogVisible:!1,origionPic:"",status_up:0,status_down:0}},components:{BalancePop:c.a,StockPop:i.a,MarketPop:u.a},mounted:function(){this.getData()},methods:{editRow:function(t){this.$router.history.push({path:"/goodsManage/editGoods",query:{id:t.id,draft:1}})},doSubmit:function(t){var e=this;return s()(o.a.mark(function a(){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.A)({sh_status:2,id:t.id});case 2:0==(n=a.sent).code?(e.$message({message:"操作成功",type:"success"}),e.getData()):e.$message.error(n.message);case 4:case"end":return a.stop()}},a,e)}))()},doDel:function(t){var e=this;this.$confirm("此操作将删除该条商品记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.f)({id:t.id}).then(function(t){0==t.code?(e.$message({type:"success",message:"操作成功!"}),e.getData()):e.$message.error(t.message)})}).catch(function(){})},doCancel:function(t){var e=this;this.$confirm("此操作将撤回该条审核商品记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.A)({id:t.id,sh_status:0}).then(function(t){0==t.code?(e.$message({type:"success",message:"操作成功!"}),e.getData()):e.$message.error(t.message)})}).catch(function(){})},changeType:function(t){this.actTab=t,this.curPage=1,this.getData()},getData:function(){var t=this;return s()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.l)({page_size:t.page_size,page:t.curPage,keyword:t.keyWord,type:t.actTab,stype:t.type});case 2:0==(a=e.sent).code&&(t.tableData=a.data.data,t.total=a.data.total,t.status_down=a.data.status_down,t.status_up=a.data.status_up);case 4:case"end":return e.stop()}},e,t)}))()},doSearch:function(){this.curPage=1,this.getData()},handleCurrentChange:function(t){this.curPage=t,this.getData()},previewImg:function(t){this.dialogVisible=!0,this.origionPic=t},prePrice:function(t){this.$refs.balancePop.showDetail(t,0)},preStock:function(t){this.$refs.stockPop.showDetail(t,0)},preMarket:function(t){this.$refs.marketPop.showDetail(t,0)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-row",[a("el-col",{staticClass:"top lr",attrs:{span:24}},[a("el-button-group",[a("el-button",{class:["groupBtn",0==t.actTab?"active":""],attrs:{type:"groupBtn",plain:""},on:{click:function(e){return t.changeType(0)}}},[t._v("草稿箱")]),t._v(" "),a("el-button",{class:["groupBtn",1==t.actTab?"active":""],attrs:{type:"groupBtn",plain:""},on:{click:function(e){return t.changeType(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{class:["groupBtn",2==t.actTab?"active":""],attrs:{type:"groupBtn",plain:""},on:{click:function(e){return t.changeType(2)}}},[t._v("审核不通过")])],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/goodsManage/addGoods")}}},[t._v("添加商品")])],1)],1),t._v(" "),a("el-row",{staticClass:"mb2 lr mt2"},[a("el-col",[t._v("共有"+t._s(t.total)+"个商品，其中已上架"+t._s(t.status_up)+"个，已下架"+t._s(t.status_down)+"个")]),t._v(" "),a("el-col",{staticClass:"center"},[a("el-radio-group",{staticClass:"mr2",model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio",{attrs:{label:"0"}},[t._v("按商品名称")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("按编号")])],1),t._v(" "),a("el-input",{staticClass:"mr2 sInput",attrs:{placeholder:"关键词"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.doSearch}},[t._v("查 询")])],1)],1),t._v(" "),a("div",{},[0==t.actTab?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"goods_code",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品封面图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"smallPic",attrs:{src:e.row.picture,alt:""},on:{click:function(a){return t.previewImg(e.row.picture)}}})]}}],null,!1,534385512)}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category_name",label:"所属分类"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.type?a("span",[t._v("实物")]):t._e(),t._v(" "),1==e.row.type?a("span",[t._v("虚拟")]):t._e()]}}],null,!1,1410342179)}),t._v(" "),a("el-table-column",{attrs:{label:"结算价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.settlement_price))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.prePrice(e.row)}}},[t._v("查看")])]}}],null,!1,1524003147)}),t._v(" "),a("el-table-column",{attrs:{label:"市场价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.market_price))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.preMarket(e.row)}}},[t._v("查看")])]}}],null,!1,322076299)}),t._v(" "),a("el-table-column",{attrs:{label:"总库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.sum_stock))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.preStock(e.row)}}},[t._v("调整")])]}}],null,!1,4216336276)}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.doSubmit(e.row)}}},[t._v("提交审核")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.doDel(e.row)}}},[t._v("删除")])]}}],null,!1,2270477008)})],1):t._e()],1),t._v(" "),a("div",{},[1==t.actTab?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"goods_code",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品封面图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"smallPic",attrs:{src:e.row.picture,alt:""},on:{click:function(a){return t.previewImg(e.row.picture)}}})]}}],null,!1,534385512)}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category_name",label:"所属分类"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.type?a("span",[t._v("实物")]):t._e(),t._v(" "),1==e.row.type?a("span",[t._v("虚拟")]):t._e()]}}],null,!1,1410342179)}),t._v(" "),a("el-table-column",{attrs:{label:"结算价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.settlement_price))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.prePrice(e.row)}}},[t._v("查看")])]}}],null,!1,1524003147)}),t._v(" "),a("el-table-column",{attrs:{label:"市场价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.market_price))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.preMarket(e.row)}}},[t._v("查看")])]}}],null,!1,322076299)}),t._v(" "),a("el-table-column",{attrs:{label:"总库存"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.sum_stock))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.preStock(e.row)}}},[t._v("调整")])]}}],null,!1,4216336276)}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"提交时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.doCancel(e.row)}}},[t._v("撤回")])]}}],null,!1,3295646598)})],1):t._e()],1),t._v(" "),a("div",{},[2==t.actTab?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"goods_code",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品封面图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"smallPic",attrs:{src:e.row.picture,alt:""},on:{click:function(a){return t.previewImg(e.row.picture)}}})]}}],null,!1,534385512)}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category_name",label:"所属分类"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.type?a("span",[t._v("实物")]):t._e(),t._v(" "),1==e.row.type?a("span",[t._v("虚拟")]):t._e()]}}],null,!1,1410342179)}),t._v(" "),a("el-table-column",{attrs:{prop:"settlement_price",label:"结算价(元)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"market_price",label:"市场价(元)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sum_stock",label:"总库存"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"审核时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.editRow(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.doDel(e.row)}}},[t._v("删除")])]}}],null,!1,1751126787)})],1):t._e()],1),t._v(" "),a("el-pagination",{staticClass:"pubPagation",attrs:{"current-page":t.curPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.curPage=e},"update:current-page":function(e){t.curPage=e}}}),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.origionPic,alt:""}})]),t._v(" "),a("BalancePop",{ref:"balancePop"}),t._v(" "),a("StockPop",{ref:"stockPop"}),t._v(" "),a("MarketPop",{ref:"marketPop"})],1)},staticRenderFns:[]};var _=a("VU/8")(p,d,!1,function(t){a("M06x")},"data-v-eac40954",null);e.default=_.exports},ux3j:function(t,e,a){"use strict";var n=a("Xxa5"),o=a.n(n),r=a("exGp"),s=a.n(r),l=a("1h8J"),c={data:function(){return{popVisible:!1,infos:[],goodsName:"",curId:"",draft:""}},methods:{showDetail:function(t,e){this.popVisible=!0,this.getStock(t.id,e),this.goodsName=t.goods_name,this.curId=t.id,this.draft=e},getStock:function(t,e){var a=this;return s()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)({id:t,draft:e});case 2:0==(r=n.sent).code&&(a.infos=r.data);case 4:case"end":return n.stop()}},n,a)}))()},doSave:function(){var t=this;return s()(o.a.mark(function e(){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.infos.forEach(function(t,e){a.push({id:t.id,stock:t.stock})}),e.next=4,Object(l.o)({goods_id:t.curId,goods_sku_draft:a,draft:t.draft});case 4:0==(n=e.sent).code?(t.$message({type:"success",message:"操作成功!"}),t.popVisible=!1,t.$parent.getData()):t.$message.error(n.message);case 6:case"end":return e.stop()}},e,t)}))()}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{center:"",title:"调整库存",visible:t.popVisible,width:"50%"},on:{"update:visible":function(e){t.popVisible=e}}},[a("el-row",[t._v("商品名称："+t._s(t.goodsName))]),t._v(" "),t._l(t.infos,function(e,n){return a("el-row",{key:n,staticClass:"mt2 vertical"},[a("el-col",{attrs:{span:8}},[t._v(t._s(n+1))]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(t._s(e.sku_name))]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input-number",{attrs:{placeholder:"请输入内容",controls:!1,precision:0},model:{value:e.stock,callback:function(a){t.$set(e,"stock",a)},expression:"item.stock"}}),t._v(" 件\n                    ")],1)],1)}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doSave}},[t._v("保存")])],1)],2)],1)},staticRenderFns:[]};var u=a("VU/8")(c,i,!1,function(t){a("SR9u")},"data-v-21a11ab4",null);e.a=u.exports}});
//# sourceMappingURL=3.f7073a2415057f049ab8.js.map